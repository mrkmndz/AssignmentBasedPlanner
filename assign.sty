\ProvidesPackage{assign}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{datenumber}
\RequirePackage{xparse}
\RequirePackage{etoolbox}
\RequirePackage{color}
\RequirePackage{soul}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcounter{dateone}\newcounter{datetwo}\newcounter{truemonth}\newcounter{trueyear}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\high}[1]{#1}
\DeclareOption{highlight}{
\renewcommand{\high}[1]{\hl{#1}}
}
\ProcessOptions\relax
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\setstablemonth}[2]{
\setcounter{truemonth}{\month}
\setcounter{trueyear}{\year}
\month=#1
\year=#2
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\divisi}{
	\pagebreak[1]
	\vskip\medskipamount 
	\leaders\vrule width \textwidth\vskip0.4pt
	\vskip\medskipamount
	\nointerlineskip
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\class}[1]{
\divisi
\noindent\hspace*{15pt} \textbf{#1}\\
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\DeclareDocumentCommand \assign { m o o o}{ 
	\setdatetoday
	\setmydatenumber{dateone}{\thetrueyear}{\thetruemonth}{\day}%
	\ifboolexpr{
		test {\IfNoValueTF{#2}}
		and 
		test {\IfNoValueTF{#3}}
		and
		test {\IfNoValueTF{#4}}
	}
		{
			{#1}\\
			\hspace*{15pt} ?\\
		}
		{
			\ifboolexpr{
				not test {\IfNoValueTF{#2}}
				and 
				test {\IfNoValueTF{#3}}
				and
				test {\IfNoValueTF{#4}}
			}
				{\setdate{\thedateyear}{\thedatemonth}{#2}}
				{
					\ifboolexpr{
						not test {\IfNoValueTF{#2}}
						and 
						not test {\IfNoValueTF{#3}}
						and
						test {\IfNoValueTF{#4}}
					}
						{\setdate{\thedateyear}{#2}{#3}}
						{\setdate{#4}{#2}{#3}}
				}
			\setmydatenumber{datetwo}{\thedateyear}{\thedatemonth}{\thedateday}%
			\addtocounter{datetwo}{-\thedateone}%
			\ifnumcomp{\value{datetwo}}{<}{2}
			{
				\high{#1}\\
				\hspace*{15pt}\high{\hbox{\datedayname,~\datemonthname~{\thedateday},~\thedateyear}}\\
			}
			{
				{#1}\\
				\hspace*{15pt}\datedayname,~\datemonthname~{\thedateday},~\thedateyear\\
			}
		}
	\setdatetoday
}